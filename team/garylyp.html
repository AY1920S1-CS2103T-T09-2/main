<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Gary Lim - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Gary Lim - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-exerhealth"><a class="link" href="#project-exerhealth">PROJECT: ExerHealth</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our team modified a basic command line application (AddressBook3) into <strong>ExerHealth</strong>, a desktop application
used for tracking and scheduling the user&#8217;s exercises. The application provides statistical analysis of exercises
completed by the users. Additionally, it also acts as a personal trainer by suggesting different exercises which
both beginners and advanced users can choose from to incorporate into their exercise regimes. The user interacts
with it using a command line interface, and it has a GUI created with JavaFX.</p>
</div>
<div class="paragraph">
<p>Below is a screenshot of what our desktop application looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Ui.png" alt="Ui">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability to undo/redo previous commands</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to undo previous commands one at a time. Undo commands can be reversed by using the redo command.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can make mistakes in commands and the app should provide a convenient way to rectify them.</p>
</li>
<li>
<p>Highlights: This enhancement requires an in-depth analysis of design alternatives as well as the interaction between all undoable commands and the backend model.
The implementation too was challenging as it required changes to existing commands while allowing ease of integration with future commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement 1</strong>: implemented the sorting of exercise list, regime list and schedule list such that entries are listed in a systematic order for users.</p>
</li>
<li>
<p><strong>Minor enhancement 2</strong>: modified the <code>list</code> command to improve the navigability across various lists (exercise tracker, exercise suggestions, regime list, schedule list).</p>
</li>
<li>
<p><strong>Code contributed</strong>: <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=garylyp&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false">RepoSense</a></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.2</code> - <code>v1.4</code> (3 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage (Pull requests <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/124">#124</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/186">#186</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to contents of the User Guide and Developer Guide: <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/110">#110</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/231">#231</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/16">#16</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/81">#81</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/pull/114">#114</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/issues/259">1</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/issues/260">2</a>, <a href="https://github.com/AY1920S1-CS2103T-F11-4/main/issues/122">3</a>, <a href="https://github.com/AY1920S1-CS2103T-F11-4/main/issues/125">4</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="undocommand"><a class="link" href="#undocommand">Undo previous command: <code>undo</code></a></h3>
<div class="paragraph">
<p>Undo the previous successful command entered.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Supported Undoable Commands: add, delete, edit, clear, schedule, resolve</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add t/exercise n/Push ups d/1/10/2019 c/123 q/100 u/reps</code></p>
</li>
<li>
<p><code>add t/regime n/Cardio i/1 i/3 i/5</code></p>
</li>
<li>
<p><code>delete t/exercise i/7</code></p>
</li>
<li>
<p><code>edit t/exercise i/3 n/Push Ups c/140 m/Chest</code></p>
</li>
<li>
<p><code>clear</code></p>
</li>
<li>
<p><code>schedule n/Regime Five d/20/11/2019</code></p>
</li>
<li>
<p><code>schedule i/1</code></p>
</li>
<li>
<p><code>resolve n/New Regime i/1 r/2</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If there is no previous command, undo will do nothing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>undo</code></p>
</div>
</div>
<div class="sect2">
<h3 id="redo-undone-command-code-redo-code"><a class="link" href="#redo-undone-command-code-redo-code">Redo undone command: <code>redo</code></a></h3>
<div class="paragraph">
<p>Redo the previous command that was undone by the user. It can only be executed after
successful executions of the undo command. For a list of Undoable commands, refer
to the <a href="#undocommand">Undo Command</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the <code>Undo</code> command has not been executed after the execution of the last Undoable command, there will be
no command to redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>redo</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Undoing a <code>delete t/regime [i/INDEX]&#8230;&#8203;</code> command that deletes exercise from an existing regime.<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Initial</strong>:<br></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/DeleteExerciseFromRegimeBeforeUndo.png" alt="DeleteExerciseFromRegimeBeforeUndo" width="85%">
</div>
<div class="title">Figure 1. Selecting the 3rd regime</div>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>delete t/regime n/Level 3 i/5</code><br>
Deletes the fifth exercise <code>Hiking</code> from the regime <code>Level 3</code><br></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/DeleteExerciseFromRegimeUndo.png" alt="DeleteExerciseFromRegimeUndo" width="85%">
</div>
<div class="title">Figure 2. Deleting <code>Hiking</code> from our selected regime</div>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>undo</code><br>
Adds the exercise <code>Hiking</code> back to the regime <code>Level 3</code><br></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/DeleteExerciseFromRegimeUndoOutcome.png" alt="DeleteExerciseFromRegimeUndoOutcome" width="85%">
</div>
<div class="title">Figure 3. <code>undo</code> reverses the deletion!</div>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>redo</code><br>
Redoes the deletion of <code>Hiking</code> is deleted from the regime <code>Level 3</code><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteExerciseFromRegimeRedoOutcome.png" alt="DeleteExerciseFromRegimeRedoOutcome">
</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by the <code>events</code> package consisting of <code>EventHistory</code>, <code>EventFactory</code>,
<code>EventPayload</code> and the various <code>Event</code> classes.</p>
</div>
<div class="paragraph">
<p>The <code>EventHistory</code> is a singleton class used to store a history of successfully executed commands as <code>Event</code> objects.
Instances of <code>Event</code> are stored in either the <code>undoStack</code> or the <code>redoStack</code> depending on the user&#8217;s course of action.</p>
</div>
<div class="paragraph">
<p>The <code>EventHistory</code> class has two primary methods namely <code>undo(Model model)</code> and <code>redo(Model model)</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>eventHistory.undo(model)</code>&#8201;&#8212;&#8201;Undoes the <code>Event</code> at the top of the <code>undoStack</code>, executes it, and pushes it to the top of the <code>redoStack</code></p>
</li>
<li>
<p><code>eventHistory.redo(model)</code>&#8201;&#8212;&#8201;Redoes the <code>Event</code> at the top of the <code>redoStack</code>, executes it, and pushes it to the top of the <code>undoStack</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are utilised in the <code>UndoCommand</code> and <code>RedoCommand</code> respectively.</p>
</div>
<div class="paragraph">
<p>The following steps will describe the steps taken in the execution of an UndoableCommand, and subsequently
the UndoCommand and RedoCommand.</p>
</div>
<div class="paragraph">
<p><strong>Step 1:</strong> When an <code>UndoableCommand</code> is executed, key information used during the command will be added into a
newly initialized <code>EventPayload</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>EventPayload</code> is a wrapper class to store key information about the particular command.
For instance, if an <code>EditCommand</code> has been executed, the <code>EventPayload</code> will store the <code>originalExercise</code>
as well as the <code>editedExercise</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> The <code>EventFactory</code> takes in the <code>UndoableCommand</code> and generates an <code>Event</code> using the <code>EventPayload</code>
stored in the <code>UndoableCommand</code>.
The <code>Event</code> is then added to the undo stack of the <code>EventHistory</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>EventFactory</code> checks for the command word of the <code>UndoableCommand</code> to decide which specific <code>Event</code> object
to generate. It will then obtain the <code>EventPayload</code> from the <code>UndoableCommand</code> and pass it into the constructor of the
<code>Event</code> so that the <code>Event</code> captures the key information of the <code>UndoableCommand</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> To undo the latest <code>UndoableCommand</code> the user executes the <code>UndoCommand</code> by entering <code>undo</code>
into the command box.</p>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> The <code>UndoCommand</code> executes <code>eventHistory.undo(model)</code>, which prompts the <code>EventHistory</code> instance
to pop the next <code>Event</code> to undo from the undo stack. Once the <code>Event</code> is undone, it will be pushed to the
top of the redo stack.</p>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> To redo the command that has been undone, the user executes the <code>RedoCommand</code>. This execution
behaves similarly to step 4, except that the next <code>Event</code> is taken from the top of the redo stack and
pushed to the undo stack instead.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In steps 4 and 5, if any of the respective stack is empty when undo or redo is called, a <code>CommandException</code> will be thrown
and an error message will be displayed to indicate there is no undoable or redoable commands.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following two Sequence Diagrams show a sample flow of the execution when an <code>EditCommand</code>, which is an
<code>UndoableCommand</code>, has been executed and subsequently undone.</p>
</div>
<div class="paragraph">
<p>The first diagram below describes the process of storing an <code>EditEvent</code> to <code>EventHistory</code> during the execution of the
<code>EditCommand</code>. The <code>EventPayload</code> is only initialized when the <code>EditCommand</code> is executed. The <code>EventPayload</code> is
subsequently used for the initialization of the <code>EditEvent</code>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/UndoableCommandSequenceDiagram.png" alt="UndoableCommandSequenceDiagram">
</div>
<div class="title">Figure 4. The process of storing an EditEvent to EventHistory</div>
</div>
<div class="paragraph">
<p>The second diagram below describes the process of undoing the executed <code>EditCommand</code>  using the <code>UndoCommand</code>.
When the <code>UndoCommand</code> is executed, the <code>EventHistory</code> calls the <code>undo</code> method of the next <code>Event</code> in the undo stack
(i.e. the <code>EditEvent</code>).</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
<div class="title">Figure 5. The process of undoing the EditCommand</div>
</div>
<div class="paragraph">
<p>Given below is a Class Diagram to show the associations between Event, Command and Model. It is specifically designed
such that only objects that implement the <code>Event</code> and <code>Command</code> interface will need to handle the <code>model</code> class.</p>
</div>
<div id="undoablecommands" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The only commands that implements the <code>UndoableCommand</code> are <code>AddCommand</code>, <code>DeleteCommand</code>, <code>EditCommand</code>,
<code>ClearCommand</code>, <code>ScheduleCommand</code> and <code>ResolveCommand</code>. They each stores an <code>EventPayload</code> instance.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/EventClassDiagram.png" alt="EventClassDiagram" width="85%">
</div>
<div class="title">Figure 6. The associations between Event, Command and Model</div>
</div>
<div class="paragraph">
<p>The following Activity Diagram summarizes what happens when a user enters undoable commands,
the undo command and the redo command.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/CommitActivityDiagram.png" alt="CommitActivityDiagram">
</div>
<div class="title">Figure 7. The workflow when a user enters an undoable command and performs undo/redo</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Choice 1: (current choice)</strong> Implements undo and redo of each Command in a separate Event object stored in the EventHistory</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Uses less memory to store Event objects and payloads as compared to entire copies of the Model object.</p>
</li>
<li>
<p>Open for extensions and close to modifications as the Event interface only contains undo and redo methods, and can
be easily implemented when new Undoable commands are introduced.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>UndoableCommand objects are forced to depend on EventPayloads when it does not actually use it directly.
(e.g. <code>DeleteCommand</code> has to store the exercise being deleted despite using it only once).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Choice 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Uses less memory to store each command as compared to entire copies of the Model object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Violates Single Responsibility Principle as Commands need to contain specific implementation of the inverse action of itself
and also stores data such as the exercise being deleted in a local field.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Choice 3:</strong> Saves the entire model consisting of the exercise, regime, schedule and suggestion lists.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easy to implement.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>May have performance issues in terms of memory usage as multiple lists need to be stored
(i.e. Exercise list, Regime list, Schedule list)</p>
</li>
<li>
<p>Unnecessary storage of irrelevant details such as suggestion list.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Choice 1 (current choice):</strong> Use a singleton EventHistory to store stacks of Events generated by a EventFactory.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Ensures only one instance of EventHistory exists</p>
</li>
<li>
<p>The EventFactory relies on the Factory pattern that helps to reduce coupling between
EventHistory and each individual Event.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>The Singleton pattern may have a chance of breaking if multiple threads initialize the singleton class
at the same time, creating multiple instances of EventHistory. However, if this problem arises, the instantiation
method can be made "synchronized" to circumvent this issue.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Choice 2:</strong> Use a list to store the history of model objects.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Very simple to implement as each step simply requires a deep copy of the model to be created
and stored.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Difficult to monitor multiple resource books (e.g. Regime books and Exercise books) as they all
manage different types of resources that can be altered by commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-10 15:51:42 UTC</div></div></div></body></html>